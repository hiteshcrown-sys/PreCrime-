import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { motion } from "framer-motion";
import { Brain, Info, AlertTriangle, CheckCircle } from "lucide-react";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
const zones = [
    { id: 1, name: "Downtown Core", risk: 87 },
    { id: 2, name: "Financial Hub", risk: 79 },
    { id: 3, name: "Industrial District", risk: 72 },
    { id: 4, name: "Harbor Area", risk: 65 }
];
const factors = [
    { name: "Historical Crime Density", contribution: 32, trend: "high", description: "High concentration of similar incidents in past 30 days" },
    { name: "Time Pattern Match", contribution: 24, trend: "high", description: "Current time matches peak crime hours (22:00-02:00)" },
    { name: "Foot Traffic Anomaly", contribution: 18, trend: "medium", description: "Unusual decrease in pedestrian activity detected" },
    { name: "Weather Conditions", contribution: 12, trend: "low", description: "Clear weather correlates with increased outdoor crime" },
    { name: "Event Proximity", contribution: 8, trend: "medium", description: "Large venue event ending within 30 minutes" },
    { name: "Economic Indicators", contribution: 6, trend: "low", description: "Recent unemployment data for the zone" }
];
export default function ExplainableAI() {
    const [selectedZone, setSelectedZone] = useState(zones[0]);
    return (_jsxs("div", { className: "space-y-6", children: [_jsxs("div", { className: "flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "p-2 rounded-lg bg-purple-500/20", children: _jsx(Brain, { className: "w-6 h-6 text-purple-400" }) }), _jsxs("div", { children: [_jsx("h1", { className: "text-2xl font-bold text-white", children: "Explainable AI" }), _jsx("p", { className: "text-slate-400 text-sm", children: "Transparent prediction reasoning" })] })] }), _jsxs(Select, { value: selectedZone.name, onValueChange: (v) => setSelectedZone(zones.find(z => z.name === v)), children: [_jsx(SelectTrigger, { className: "w-64 bg-slate-800 border-slate-700", children: _jsx(SelectValue, { placeholder: "Select zone" }) }), _jsx(SelectContent, { children: zones.map(zone => (_jsxs(SelectItem, { value: zone.name, children: [zone.name, " (", zone.risk, "% risk)"] }, zone.id))) })] })] }), _jsxs("div", { className: "grid grid-cols-1 xl:grid-cols-3 gap-6", children: [_jsx("div", { className: "xl:col-span-2", children: _jsxs("div", { className: "rounded-2xl bg-slate-900/50 border border-slate-800 overflow-hidden h-full", children: [_jsxs("div", { className: "p-4 border-b border-slate-800 flex items-center gap-2", children: [_jsx(Info, { className: "w-5 h-5 text-cyan-400" }), _jsxs("h3", { className: "font-semibold text-white", children: ["Why is ", selectedZone.name, " flagged?"] })] }), _jsxs("div", { className: "p-6", children: [_jsxs("div", { className: "mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/30", children: [_jsxs("div", { className: "flex items-center gap-3 mb-2", children: [_jsx(AlertTriangle, { className: "w-5 h-5 text-red-400" }), _jsx("span", { className: "font-semibold text-red-400", children: "High Risk Alert" })] }), _jsxs("p", { className: "text-sm text-slate-300", children: ["This zone shows an ", selectedZone.risk, "% probability of criminal activity in the next 30 minutes based on the combination of factors below."] })] }), _jsx("h4", { className: "text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4", children: "Contributing Factors" }), _jsx("div", { className: "space-y-4", children: factors.map((factor, index) => (_jsxs(motion.div, { initial: { opacity: 0, x: -20 }, animate: { opacity: 1, x: 0 }, transition: { delay: index * 0.1 }, className: "p-4 rounded-xl bg-slate-800/50 border border-slate-700", children: [_jsxs("div", { className: "flex items-start justify-between mb-2", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("div", { className: `w-2 h-2 rounded-full ${factor.trend === "high" ? "bg-red-400" :
                                                                            factor.trend === "medium" ? "bg-yellow-400" : "bg-green-400"}` }), _jsx("span", { className: "font-medium text-white", children: factor.name })] }), _jsxs("span", { className: "text-lg font-bold text-cyan-400", children: [factor.contribution, "%"] })] }), _jsx("div", { className: "mb-2", children: _jsx("div", { className: "w-full h-2 bg-slate-700 rounded-full overflow-hidden", children: _jsx(motion.div, { className: "h-full bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full", initial: { width: 0 }, animate: { width: `${factor.contribution}%` }, transition: { delay: index * 0.1 + 0.3, duration: 0.5 } }) }) }), _jsx("p", { className: "text-xs text-slate-400", children: factor.description })] }, factor.name))) })] })] }) }), _jsxs("div", { className: "xl:col-span-1 space-y-6", children: [_jsxs("div", { className: "rounded-2xl bg-slate-900/50 border border-slate-800 overflow-hidden", children: [_jsx("div", { className: "p-4 border-b border-slate-800", children: _jsx("h3", { className: "font-semibold text-white", children: "Prediction Confidence" }) }), _jsxs("div", { className: "p-6", children: [_jsxs("div", { className: "relative w-40 h-40 mx-auto mb-4", children: [_jsxs("svg", { className: "w-full h-full transform -rotate-90", children: [_jsx("circle", { cx: "80", cy: "80", r: "70", fill: "none", stroke: "rgb(51, 65, 85)", strokeWidth: "12" }), _jsx(motion.circle, { cx: "80", cy: "80", r: "70", fill: "none", stroke: "url(#gradient)", strokeWidth: "12", strokeLinecap: "round", strokeDasharray: `${2 * Math.PI * 70}`, initial: { strokeDashoffset: 2 * Math.PI * 70 }, animate: { strokeDashoffset: 2 * Math.PI * 70 * (1 - 0.89) }, transition: { duration: 1, ease: "easeOut" } }), _jsx("defs", { children: _jsxs("linearGradient", { id: "gradient", x1: "0%", y1: "0%", x2: "100%", y2: "0%", children: [_jsx("stop", { offset: "0%", stopColor: "#06b6d4" }), _jsx("stop", { offset: "100%", stopColor: "#8b5cf6" })] }) })] }), _jsxs("div", { className: "absolute inset-0 flex items-center justify-center flex-col", children: [_jsx("span", { className: "text-4xl font-bold text-white", children: "89%" }), _jsx("span", { className: "text-xs text-slate-400", children: "confidence" })] })] }), _jsxs("div", { className: "space-y-3", children: [_jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-slate-400", children: "Model accuracy (30d)" }), _jsx("span", { className: "text-green-400 font-medium", children: "94.2%" })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-slate-400", children: "False positive rate" }), _jsx("span", { className: "text-yellow-400 font-medium", children: "4.8%" })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-slate-400", children: "Data freshness" }), _jsx("span", { className: "text-cyan-400 font-medium", children: "5 sec ago" })] })] })] })] }), _jsxs("div", { className: "rounded-2xl bg-slate-900/50 border border-slate-800 overflow-hidden", children: [_jsx("div", { className: "p-4 border-b border-slate-800", children: _jsx("h3", { className: "font-semibold text-white", children: "Model Transparency" }) }), _jsxs("div", { className: "p-4 space-y-3", children: [_jsxs("div", { className: "p-3 rounded-lg bg-slate-800/50 border border-slate-700", children: [_jsxs("div", { className: "flex items-center gap-2 mb-1", children: [_jsx(CheckCircle, { className: "w-4 h-4 text-green-400" }), _jsx("span", { className: "text-sm font-medium text-white", children: "Auditable" })] }), _jsx("p", { className: "text-xs text-slate-400", children: "All predictions logged with full factor breakdown" })] }), _jsxs("div", { className: "p-3 rounded-lg bg-slate-800/50 border border-slate-700", children: [_jsxs("div", { className: "flex items-center gap-2 mb-1", children: [_jsx(CheckCircle, { className: "w-4 h-4 text-green-400" }), _jsx("span", { className: "text-sm font-medium text-white", children: "Human-in-Loop" })] }), _jsx("p", { className: "text-xs text-slate-400", children: "Requires human confirmation before action" })] }), _jsxs("div", { className: "p-3 rounded-lg bg-slate-800/50 border border-slate-700", children: [_jsxs("div", { className: "flex items-center gap-2 mb-1", children: [_jsx(CheckCircle, { className: "w-4 h-4 text-green-400" }), _jsx("span", { className: "text-sm font-medium text-white", children: "Bias Monitored" })] }), _jsx("p", { className: "text-xs text-slate-400", children: "Continuous fairness metrics tracking" })] })] })] })] })] })] }));
}
